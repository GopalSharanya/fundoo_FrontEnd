<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1,
      shrink-to-fit=no">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

  <!--CDN FOR DIALOG BOX EDIT CARDS-->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <!--DIALOG BOX FOR EDIT CARDS-->







  <!--LOAD TAKE A NOTE-->
  <script>
    $(document).ready(function () {
      $('#takeaNote').load('takeaNote.html');
    });
  </script>


  <!--LOAD ICONS -->
  <script>
    $(document).ready(function () {
      $('#iconsbekku').load('icons.html');
    });
  </script>

  <!--ADD CSS FROM DASHVOARD CSS-->
  <link rel="stylesheet" href="dashbord.css">

  <!--TITLE BAR ICON-->
  <link rel="shortcut icon" href="https://www.gstatic.com/images/branding/product/1x/keep_48dp.png" type="image/x-icon">

  <!--TITLE-->
  <title>FuNdooo</title>




</head>

<body>

  <!-- navigation bar-->
  <div class="navigationBar">
    <nav class="toolbar">
      <div class="toolbar1">
        <!-- keep, side navigation bar-->
        <div class="keep-allignment">
          <div class="sidenavigationbar">
            <div class="menubar">
              <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#8801;
              </span>
            </div>
            <div id="mySidenav" class="sidenav">
              <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
              <div class="sideIcons">
                <a class="iiit " ><i class="fa iiii fa-lightbulb-o notes"></i>Notes</a>
                <a class="" ><i class="fa iiii fa-bell-o reminders"></i>Reminders</a>
                <div class="dropdown-divider"></div>
                <a  ><i class="fa iiii fa-pencil editLabels"></i>Edit Labels</a>
                <div class="dropdown-divider"></div>
                <a ><i class="fa iiii fa-arrow-circle-down archive"></i>Archive</a>
                <a ><i class="fa iiii fa-trash-o bin"></i>Bin</a>
              </div>
            </div>
          </div>
          <div>
            <img src="https://www.gstatic.com/images/branding/product/1x/keep_48dp.png" width: 40px; height: 40px;
              class="d-inline-block align-top" alt="">
          </div>
          <div class="keep">
            Keep
          </div>
        </div>
        <!-- setting, refresh, list veiw-->
        <div class="rightside">
          <div class="threeicons">
            <i class="repeat pp7 fa fa-repeat fa-lg" title="refresh"></i>
            <i class="listbar pp7 fa fa-bars fa-lg"></i>
            <i class="setting pp7 fa fa-cog fa-lg"></i>
          </div>
        </div>
        <!-- sign out awathar-->
        <div class="signoutdropdown">
          <li class="nav-item avatar dropdown">
            <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-5" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">
              <img src="" class="rounded-circle z-depth-0" alt="avatar image">
            </a>
            <div class="dropdown-menu dropdown-menu-left" aria-labelledby="navbarDropdownMenuLink-5">
              <a class="dropdown-item" href="#">Sign-Out</a>

            </div>
          </li>
        </div>

      </div>
    </nav>














    


    <!--Take A Note-->
    <div id="takeaNote"></div>

    <!--Saved Notes-->
    <div id="writingHere"></div>





    <!-- Modal FOR DIALOG BOX -->
    <div id="dialog">
      <a href="#"></a>
      <div class="textBox2" id="largeOne dialog">

        <div class="cardsss" id="dialog">
          <div class="card-title">
            <textarea class="takeanote titttle abc " name="getTitle" id="rat" placeholder="  title.."
              style="overflow: hidden"></textarea>
          </div>
          <div class="card-text">
            <div class="iconnn">
              <div>
                <textarea class="takeanote discriptionn   kop " name="getDis" id="cat"
                  placeholder="  discription.."></textarea>
              </div>
              <div class="iconwithbutton">
                <div class="iconandbutton">
                  <div class="diaicon">
                    <div class="fourico">
                      <i class="foot fa qq fa-bell"></i>
                      <i class="foot fa qq fa-user-plus"></i>
                      <i class="foot fa qq fa-arrow-circle-o-down"></i>
                      <i class="foot fa qq fa-picture-o"></i>
                      <i class="foot fa qq fa-ellipsis-v"></i>
                    </div>


                    <div class="buttonclass">
                      <button type="button" class="updateButton">UPDATE</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>





    <!--UPDATE NOTES-->

    <script>
      $(document).ready(function () {
        $(".updateButton").click(function () {
          event.preventDefault();
          // var ttit = $("#getTitle").html(); 
          var diss = document.getElementById("cat").value
          var ttit = document.getElementById("rat").value
          console.log(ttit);
          console.log(diss);
          console.log(document.getElementsByClassName("updateButton").id, "EEEEEEEEEEEEEEEEE")
          var iden = document.getElementsByClassName("updateButton").id;
          if (ttit != "" && diss != "") {
            $.ajax({
              url: 'http://localhost:4500/note/updateNotes',
              type: 'PUT',
              data: JSON.stringify({
                note_id: iden,
                title: ttit,
                discription: diss,
                headers: { "token": localStorage.getItem("token") }
              }),
              processData: false,
              contentType: 'application/json',
              success: function (data) {
                console.log(data, "sddddddddddddddddddd")
                alert('Success!')
              },
              error: function (jqXHR, textStatus, err) {
                alert('text status ' + textStatus + ', err ' + err)
              }

            })
          }
        });
      });
    </script>


    <!--22222222222222222222222222222222222222222222222222222222222222222222222222222222222222-->
    <!--22222222222222222222222222222222222222222222222222222222222222222222222222222222222222-->




    <!--SAVED NOTES-->
    <script>
      var notes = [];
      $(function ($) {
        $.ajax({
          url: 'http://localhost:4500/note/getNotes',
          type: 'POST',
          data: JSON.stringify({
            email: localStorage.getItem("email"),
            headers: { "token": localStorage.getItem("token") }
          }),
          processData: false,
          contentType: 'application/json',
          success: function (response) {
            console.log("*****************************************", response)
            notes = response.data;
            for (var i = 0; i < response.data.length; i++) {
              $.each(response.data[i], function (key, value) {
                if (key == "title" && response.data[i].isArchive != true && response.data[i].isTrash != true) {
                  var out = ' <div class="notes3">'
                  out += '<div class="forcolor ' + response.data[i]._id + '">'
                  out += '<div class="modifiySavedNotes">'
                  out += '<div class="iconsdu " id="' + response.data[i]._id + '">'
                  out += '  <div class="card cc ' + response.data[i]._id + '">'
                  out += '<div   class="card-title titletext " id=' + response.data[i].title + '>'
                  out += response.data[i].title
                  out += ' </div>'
                  out += ' <div class="card-text  maintext  " id=' + response.data[i].discription + ' >'
                  out += response.data[i].discription
                  out += '</div>'
                  out += '<div id="icons"></div>'

                  //for icons
                  out += ' <div class="footericons">'
                  out += '<div class="firstfour ">'
                  out += '<span class=" io reminder"  title="reminder" id="' + response.data[i]._id + '" ><i class="foot fa fa-bell"></i> </span>'
                  out += '<span class=" io colloborator"  title="colloborator" id="' + response.data[i]._id + '" ><i class="foot  fa fa-user-plus"></i> </span>'
                  out += '<span class=" io archiveMadu"  title="archive" id="' + response.data[i]._id + '" ><i class="foot fa fa-arrow-circle-o-down"></i> </span>'
                  out += '<span class=" io addPicture"  title="addPicture" id="' + response.data[i]._id + '" ><i class="foot fa fa-picture-o" title="add picture" ></i> </span>'

                  //dropdown for color
                  out += '<div class="dropdown">'
                  out += '<a  type="text" id="dropdownMenuButton" data-toggle="dropdown" '
                  out += '<i title="color" class="fa fa-tachometer"></i>'
                  out += '</a>'
                  out += ' <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">'
                  out += '<div class="colours">'
                  out += '<a id="' + response.data[i]._id + '" class=" colour one btn " role="button" aria-pressed="true"></a>'
                  out += '<a id="' + response.data[i]._id + '"class=" colour two btn " role="button" aria-pressed="true"></a>'
                  out += '<a id="' + response.data[i]._id + '" class=" colour three btn " role="button" aria-pressed="true"></a>'
                  out += '<a id="' + response.data[i]._id + '" class=" colour four btn " role="button" aria-pressed="true"></a>'
                  out += '<a id="' + response.data[i]._id + '" class=" colour five btn " role="button" aria-pressed="true"></a>'
                  out += '<a id="' + response.data[i]._id + '" class=" colour six btn " role="button" aria-pressed="true"></a>'

                  out += '</div>'
                  out += '</div>'
                  out += '</div>'







                  // DROP-DOWN MENU FOR MORE                 
                  out += '<div class="dropdown">'
                  out += '<a  type="text" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"'
                  out += '<i title="more" class="foot fa fa-ellipsis-v" id="foot" ></i>'
                  out += '</a>'
                  out += ' <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">'
                  out += ' <a class="dropdown-item" href=""> DELETE </a>'

                  out += '</div>'
                  out += '</div>'
                  out += '</div>'




                  // GET COLOUR CARD VISE
                  $(document).ready(function () {
                    var colId = response.data[i]._id;
                    var colmain = response.data[i].title;
                    console.log("XXXXXXXXXX", response.data[i]._id);
                    $.ajax({
                      url: 'http://localhost:4500/note/getcolor',
                      type: 'POST',
                      data: JSON.stringify({
                        _id: response.data[i]._id,
                        headers: { "token": localStorage.getItem("token") }

                      }),
                      processData: false,
                      contentType: 'application/json',
                      success: function (res) {
                        console.log(res.data[0]._id, "OOOOOOOO", colId)
                        if (res.data[0]._id === colId)
                          $("." + colId).css('background-color', res.data[0].color);
                      },
                      error: function (jqXHR, textStatus, err) {
                        alert('text status ' + textStatus + ', err ' + err)
                      }

                    })
                  });

                  $('#writingHere').append(out);
                }
              })
            }

            // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! APPLY COLOR !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

            $(function ($) {
              $(".one").click(function () {
                var colId = this.id;
                color = "#FF0000";
                console.log("XXXXXXXXXX", this.id);
                $.ajax({
                  url: 'http://localhost:4500/note/color',
                  type: 'PUT',
                  data: JSON.stringify({
                    _id: colId,
                    color: color,
                    headers: { "token": localStorage.getItem("token") }
                  }),
                  processData: false,
                  contentType: 'application/json',
                  success: function (response) {
                    console.log(response, "response");

                    alert("color changed :)")
                  }
                })
              })
            })


            $(function ($) {
              $(".two").click(function () {
                var colId = this.id;
                console.log("XXXXXXXXXX", this.id);
                $.ajax({
                  url: 'http://localhost:4500/note/color',
                  type: 'PUT',
                  data: JSON.stringify({
                    _id: colId,
                    color: "#7FFFD4",
                    headers: { "token": localStorage.getItem("token") }
                  }),
                  processData: false,
                  contentType: 'application/json',
                  success: function (response) {
                    alert("color changed :)")
                  }
                })
              })
            })

            $(function ($) {
              $(".three").click(function () {
                var colId = this.id;
                console.log("XXXXXXXXXX", this.id);
                $.ajax({
                  url: 'http://localhost:4500/note/color',
                  type: 'PUT',
                  data: JSON.stringify({
                    _id: colId,
                    color: "#A52A2A",
                    headers: { "token": localStorage.getItem("token") }
                  }),
                  processData: false,
                  contentType: 'application/json',
                  success: function (response) {
                    alert("color changed :)")
                  }
                })
              })
            })



            $(function ($) {
              $(".four").click(function () {
                var colId = this.id;
                console.log("XXXXXXXXXX", this.id);
                $.ajax({
                  url: 'http://localhost:4500/note/color',
                  type: 'PUT',
                  data: JSON.stringify({
                    _id: colId,
                    color: "#5F9EA0",
                    headers: { "token": localStorage.getItem("token") }
                  }),
                  processData: false,
                  contentType: 'application/json',
                  success: function (response) {
                    alert("color changed :)")
                  }
                })
              })
            })


            $(function ($) {
              $(".five").click(function () {
                var colId = this.id;
                console.log("XXXXXXXXXX", this.id);
                $.ajax({
                  url: 'http://localhost:4500/note/color',
                  type: 'PUT',
                  data: JSON.stringify({
                    _id: colId,
                    color: "#B8860B",
                    headers: { "token": localStorage.getItem("token") }
                  }),
                  processData: false,
                  contentType: 'application/json',
                  success: function (response) {
                    alert("color changed :)")
                  }
                })
              })
            })


            $(function ($) {
              $(".six").click(function () {
                var colId = this.id;
                console.log("XXXXXXXXXX", this.id);
                $.ajax({
                  url: 'http://localhost:4500/note/color',
                  type: 'PUT',
                  data: JSON.stringify({
                    _id: colId,
                    color: "#20B2AA",
                    headers: { "token": localStorage.getItem("token") }
                  }),
                  processData: false,
                  contentType: 'application/json',
                  success: function (response) {
                    alert("color changed :)")
                  }
                })
              })
            })







            //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!



            //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! LOAD DIALOG BOX  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

            $(function () {
              var got;
              $(".clickme" ).click(function () {

                console.log("XXXXXXXXXX", this.id)
                console.log(document.getElementById("rat"));

                for (let i = 0; i < notes.length; i++) {
                  if (notes[i]._id === this.id) {
                    got = notes[i]

                    $("#dialog").dialog(
                      {
                        autoOpen: false, modal: true, show: "blind", hide: "blind",
                        create: function () {
                          document.getElementById("rat").innerHTML = got.title;
                          document.getElementById("cat").innerHTML = got.discription;
                          document.getElementsByClassName("updateButton").id = got._id
                          $("#cat").get(0).contentEditable = "true";
                          $("#rat").get(0).contentEditable = "true";
                        }
                      });
                  }
                }
                $("#dialog").dialog("open");
                return false;
              })
            });


            //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

            // TO ARCHIVE
            $('.archiveMadu').click(function () {
              console.log("XXXXXXXXXX", this.id)
              data = JSON.stringify({
                _id: this.id,
                archive: true,
                headers: { "token": localStorage.getItem("token") }
              })
              console.log(data, "%%%%%%%%%%%%%%%%%%%%%%%%%")
              $.ajax({
                url: 'http://localhost:4500/note/toArchive',
                type: 'POST',
                data: data,
                processData: false,
                contentType: 'application/json',
                success: function (data) {
                  alert("archived", data);
                },
                error: function () {
                  alert("error in archiving");
                }
              })
            })



            // TO DELETE
            $('.more').click(function () {
              console.log("XXXXXXXXXX", this.id)
              data = JSON.stringify({
                _id: this.id,
                archive: true,
                headers: { "token": localStorage.getItem("token") }
              })
              console.log(data, "%%%%%%%%%%%%%%%%%%%%%%%%%")
              $.ajax({
                url: 'http://localhost:4500/note/toTrash',
                type: 'POST',
                data: data,
                processData: false,
                contentType: 'application/json',
                success: function (data) {
                  alert("deleted", data);
                },
                error: function () {
                  alert("error in archiving");
                }
              })
            })





            // BACKGROUND COLOUR





            //END OF SAVED NOTES AJAX
          },
          error: function (jqXHR, textStatus, err) {
            alert('text status ' + textStatus + ', err ' + err)
          }
        })
      })
    </script>



    <script>

      $('.grid').click(function (e) {
        if ($(this).hasClass('grid')) {
          $('#container ul').removeClass('list').addClass('grid');
        }
        else if ($(this).hasClass('list')) {
          $('#container ul').removeClass('grid').addClass('list');
        }
      });

    </script>

















    <!--script for side navigation bar-->
    <script>
      closeNav();
      function openNav() {
        document.getElementById("mySidenav").style.width = "200px";
      }

      function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
      }
    </script>







    <!-- <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script> -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <!-- <script src="https://code.jquery.com/jquery-1.11.1.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"></script>





</body>


</html>